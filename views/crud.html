<!DOCTYPE html>
<html lang="en-US">

<head>
    <meta charset="utf-8">
    <meta name="author" content="Antonio Montalvo">
    <meta name="description" content="MongoDB CRUD Operations">
    <!-- Bootstrap -->
    <link rel="stylesheet" href="/css/normalize.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
    <script src="/js/jquery-3.2.1.js" type="text/javascript" charset="utf-8"></script>
    <link rel="stylesheet" href="/css/mongo.css">
    <title>CRUD in MongoDB</title>
</head>

<body>
    <div class="jumbotron">
        <h1 class="display-3">MongoDB C.R.U.D. Operations</h1>
        <hr class="my-4">
    </div>
    <ul class=" nav nav-pills justify-content-end">
        <li class="nav-item"><a class="nav-link" href="/">Introducing MongoDB</a></li>
        <li class="nav-item"><a class="nav-link " href="/crud">CRUD in MongoDB</a></li>
        <li class="nav-item"><a class="nav-link " href="/mongojs">MongoDB with Mongojs</a></li>
    </ul>
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <h2>Three ways to perform CRUD operations</h2>
                <p>We can effectively create, read, update or delete either from the terminal/bash, from your favorite GUI or via a Node.js module. The result are all the same. The following operations are available <a href="https://docs.mongodb.com/manual/crud/" target="_blank">HERE!</a>.</p>
                <h3>Create</h3>
                <p>Create Operations Create or insert operations add new documents to a collection. If the collection does not currently exist, insert operations will create the collection. Two methods:
                    <ul>
                        <li><code>db.collection.insertOne();</code></li>
                        <li><code>db.collection.insertMany();</code></li>
                    </ul>
                </p>
                <h3>Read</h3>
                <p>Read operations retrieves documents from a collection. There is onel one method but there are many filters or criteria available for your query. A list of <b>Query and Projection Operators</b> is available <a href="https://docs.mongodb.com/manual/reference/operator/query/#query-selectors" target="_blank">HERE!</a></p>
                <ul>
                    <li>Use <code>db.collection(collection_name).find({});</code> to select ALL documents in a Collection</li>
                </ul>
                <p>Our <code>find()</code> method can take <b>Conditions</b> as arguments.</p>
                <ul>
                    <li>We can specify equality conditions using the <b>field : value</b> expression <code>db.collection.find({field:value});</code></li>
                    <li>We can use the query operators to specify conditions like this: <code>db.collection(collection_name).find({ field: { operator: ["value", value] });</code></li>
                    <li>We can specify conditions for more than one field in the collection’s documents. A logical AND conjunction connects the clauses of a compound query so that the query selects the documents in the collection that match all the conditions.</li>
                    <li>Using the $or operator, you can specify a compound query that joins each clause with a logical OR conjunction so that the query selects the documents in the collection that match at least one condition.</li>
                </ul>
                <h3>Update</h3>
                <p>In MongoDB, update operations target a single collection. You can specify criteria, or filters, that identify the documents to update. These filters use the same syntax as read operations. There are three methods to update documents of a collection.</p>
                <ul>
                    <li><code>db.collection.updateOne(filter, update, options)¶</code>. For more <a href="https://docs.mongodb.com/manual/reference/method/db.collection.updateOne/#db.collection.updateOne" target="_blank">Click Here!</a></li>
                    <li><code>db.collection.updateMany(filter, update, options)</code>. For more <a href="https://docs.mongodb.com/manual/reference/method/db.collection.updateMany/#db.collection.updateMany" target="_blank">Click Here!</a></li>
                    <li><code>db.collection.replaceOne(filter, replacement, options)</code>. For more <a href="https://docs.mongodb.com/manual/reference/method/db.collection.replaceOne/#db.collection.replaceOne" target="_blank">Click Here!</a></li>
                </ul>
                <h3>Delete</h3>
                <p>You can specify criteria, or filters, that identify the documents to delete. The filters use the same syntax as read operations. We have two methods.</p>
                <ul>
                    <li><code>db.collection.deleteOne()</code>. For more <a href="https://docs.mongodb.com/manual/reference/method/db.collection.deleteOne/" target="_blank">Click Here!</a></li>
                    <li><code>db.collection.deleteMany()</code>. For more <a href="https://docs.mongodb.com/manual/reference/method/db.collection.deleteMany/" target="_blank">Click Here!</a></li>
                </ul>
                <h3>What is next?</h3>
                <p>Now try to apply some of this operations. The fastest way is using your terminal/bash. Here are som suggestions.</p>
                <ul>
                    <li>To create a data base <code>use myElementarySchool</code></li>
                    <li>Add a collection and insert some data <code> db.student.insert({"name":"Alberto","age":48,"grade":1});</code></li>
                    <li>Add another student. <code> db.student.insert({"name":"Maria","age":49,"grade":1});</code></li>
                    <li>Check all students <code>db.student.find({});</code></li>
                    <li>Get Alberto's info <code>db.student.find({"name":"Alberto"});</code></li>
                    <li>Update Alberto's information by adding his location <code>db.student.update({name:"Alberto"},{$set:{"location":"Hollywood"}});</code></li>
                    <li><b>Now be creative ....... your turn</b></li>
                </ul>
            </div>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>
</body>

</html>